%% bare_adv.tex
%% V1.4b
%% 2015/08/26
%% by Michael Shell
%% See:
%% http://www.michaelshell.org/
%% for current contact information.
%%
%% This is a skeleton file demonstrating the advanced use of IEEEtran.cls
%% (requires IEEEtran.cls version 1.8b or later) with an IEEE Computer
%% Society journal paper.
%%
%% Support sites:
%% http://www.michaelshell.org/tex/ieeetran/
%% http://www.ctan.org/pkg/ieeetran
%% and
%% http://www.ieee.org/

%%*************************************************************************
%% Legal Notice:
%% This code is offered as-is without any warranty either expressed or
%% implied; without even the implied warranty of MERCHANTABILITY or
%% FITNESS FOR A PARTICULAR PURPOSE!
%% User assumes all risk.
%% In no event shall the IEEE or any contributor to this code be liable for
%% any damages or losses, including, but not limited to, incidental,
%% consequential, or any other damages, resulting from the use or misuse
%% of any information contained here.
%%
%% All comments are the opinions of their respective authors and are not
%% necessarily endorsed by the IEEE.
%%
%% This work is distributed under the LaTeX Project Public License (LPPL)
%% ( http://www.latex-project.org/ ) version 1.3, and may be freely used,
%% distributed and modified. A copy of the LPPL, version 1.3, is included
%% in the base LaTeX documentation of all distributions of LaTeX released
%% 2003/12/01 or later.
%% Retain all contribution notices and credits.
%% ** Modified files should be clearly indicated as such, including  **
%% ** renaming them and changing author support contact information. **
%%*************************************************************************


% *** Authors should verify (and, if needed, correct) their LaTeX system  ***
% *** with the testflow diagnostic prior to trusting their LaTeX platform ***
% *** with production work. The IEEE's font choices and paper sizes can   ***
% *** trigger bugs that do not appear when using other class files.       ***                          ***
% The testflow support page is at:
% http://www.michaelshell.org/tex/testflow/


% IEEEtran V1.7 and later provides for these CLASSINPUT macros to allow the
% user to reprogram some IEEEtran.cls defaults if needed. These settings
% override the internal defaults of IEEEtran.cls regardless of which class
% options are used. Do not use these unless you have good reason to do so as
% they can result in nonIEEE compliant documents. User beware. ;)
%
%\newcommand{\CLASSINPUTbaselinestretch}{1.0} % baselinestretch
%\newcommand{\CLASSINPUTinnersidemargin}{1in} % inner side margin
%\newcommand{\CLASSINPUToutersidemargin}{1in} % outer side margin
%\newcommand{\CLASSINPUTtoptextmargin}{1in}   % top text margin
%\newcommand{\CLASSINPUTbottomtextmargin}{1in}% bottom text margin




%
\documentclass[10pt,journal,compsoc]{IEEEtran}
% If IEEEtran.cls has not been installed into the LaTeX system files,
% manually specify the path to it like:
% \documentclass[10pt,journal,compsoc]{../sty/IEEEtran}


% For Computer Society journals, IEEEtran defaults to the use of
% Palatino/Palladio as is done in IEEE Computer Society journals.
% To go back to Times Roman, you can use this code:
%\renewcommand{\rmdefault}{ptm}\selectfont





% Some very useful LaTeX packages include:
% (uncomment the ones you want to load)



% *** MISC UTILITY PACKAGES ***
%
%\usepackage{ifpdf}
% Heiko Oberdiek's ifpdf.sty is very useful if you need conditional
% compilation based on whether the output is pdf or dvi.
% usage:
% \ifpdf
%   % pdf code
% \else
%   % dvi code
% \fi
% The latest version of ifpdf.sty can be obtained from:
% http://www.ctan.org/pkg/ifpdf
% Also, note that IEEEtran.cls V1.7 and later provides a builtin
% \ifCLASSINFOpdf conditional that works the same way.
% When switching from latex to pdflatex and vice-versa, the compiler may
% have to be run twice to clear warning/error messages.






% *** CITATION PACKAGES ***
%
\ifCLASSOPTIONcompsoc
  % The IEEE Computer Society needs nocompress option
  % requires cite.sty v4.0 or later (November 2003)
  \usepackage[nocompress]{cite}
\else
  % normal IEEE
  \usepackage{cite}
\fi
% cite.sty was written by Donald Arseneau
% V1.6 and later of IEEEtran pre-defines the format of the cite.sty package
% \cite{} output to follow that of the IEEE. Loading the cite package will
% result in citation numbers being automatically sorted and properly
% "compressed/ranged". e.g., [1], [9], [2], [7], [5], [6] without using
% cite.sty will become [1], [2], [5]--[7], [9] using cite.sty. cite.sty's
% \cite will automatically add leading space, if needed. Use cite.sty's
% noadjust option (cite.sty V3.8 and later) if you want to turn this off
% such as if a citation ever needs to be enclosed in parenthesis.
% cite.sty is already installed on most LaTeX systems. Be sure and use
% version 5.0 (2009-03-20) and later if using hyperref.sty.
% The latest version can be obtained at:
% http://www.ctan.org/pkg/cite
% The documentation is contained in the cite.sty file itself.
%
% Note that some packages require special options to format as the Computer
% Society requires. In particular, Computer Society  papers do not use
% compressed citation ranges as is done in typical IEEE papers
% (e.g., [1]-[4]). Instead, they list every citation separately in order
% (e.g., [1], [2], [3], [4]). To get the latter we need to load the cite
% package with the nocompress option which is supported by cite.sty v4.0
% and later.





% *** GRAPHICS RELATED PACKAGES ***
%
\ifCLASSINFOpdf
\usepackage[pdftex]{graphicx}
  % declare the path(s) where your graphic files are
   \graphicspath{{../pdf/}{../jpeg/}}
  % and their extensions so you won't have to specify these with
  % every instance of \includegraphics
   \DeclareGraphicsExtensions{.pdf,.jpeg,.png}
\else
  % or other class option (dvipsone, dvipdf, if not using dvips). graphicx
  % will default to the driver specified in the system graphics.cfg if no
  % driver is specified.
   \usepackage[dvips]{graphicx}
  % declare the path(s) where your graphic files are
   \graphicspath{{../eps/}}
  % and their extensions so you won't have to specify these with
  % every instance of \includegraphics
   \DeclareGraphicsExtensions{.eps}
\fi
% graphicx was written by David Carlisle and Sebastian Rahtz. It is
% required if you want graphics, photos, etc. graphicx.sty is already
% installed on most LaTeX systems. The latest version and documentation
% can be obtained at:
% http://www.ctan.org/pkg/graphicx
% Another good source of documentation is "Using Imported Graphics in
% LaTeX2e" by Keith Reckdahl which can be found at:
% http://www.ctan.org/pkg/epslatex
%
% latex, and pdflatex in dvi mode, support graphics in encapsulated
% postscript (.eps) format. pdflatex in pdf mode supports graphics
% in .pdf, .jpeg, .png and .mps (metapost) formats. Users should ensure
% that all non-photo figures use a vector format (.eps, .pdf, .mps) and
% not a bitmapped formats (.jpeg, .png). The IEEE frowns on bitmapped formats
% which can result in "jaggedy"/blurry rendering of lines and letters as
% well as large increases in file sizes.
%
% You can find documentation about the pdfTeX application at:
% http://www.tug.org/applications/pdftex





% *** MATH PACKAGES ***
%
%\usepackage{amsmath}
% A popular package from the American Mathematical Society that provides
% many useful and powerful commands for dealing with mathematics.
%
% Note that the amsmath package sets \interdisplaylinepenalty to 10000
% thus preventing page breaks from occurring within multiline equations. Use:
%\interdisplaylinepenalty=2500
% after loading amsmath to restore such page breaks as IEEEtran.cls normally
% does. amsmath.sty is already installed on most LaTeX systems. The latest
% version and documentation can be obtained at:
% http://www.ctan.org/pkg/amsmath





% *** SPECIALIZED LIST PACKAGES ***
%\usepackage{acronym}
% acronym.sty was written by Tobias Oetiker. This package provides tools for
% managing documents with large numbers of acronyms. (You don't *have* to
% use this package - unless you have a lot of acronyms, you may feel that
% such package management of them is bit of an overkill.)
% Do note that the acronym environment (which lists acronyms) will have a
% problem when used under IEEEtran.cls because acronym.sty relies on the
% description list environment - which IEEEtran.cls has customized for
% producing IEEE style lists. A workaround is to declared the longest
% label width via the IEEEtran.cls \IEEEiedlistdecl global control:
%
% \renewcommand{\IEEEiedlistdecl}{\IEEEsetlabelwidth{SONET}}
% \begin{acronym}
%
% \end{acronym}
% \renewcommand{\IEEEiedlistdecl}{\relax}% remember to reset \IEEEiedlistdecl
%
% instead of using the acronym environment's optional argument.
% The latest version and documentation can be obtained at:
% http://www.ctan.org/pkg/acronym


%\usepackage{algorithmic}
% algorithmic.sty was written by Peter Williams and Rogerio Brito.
% This package provides an algorithmic environment fo describing algorithms.
% You can use the algorithmic environment in-text or within a figure
% environment to provide for a floating algorithm. Do NOT use the algorithm
% floating environment provided by algorithm.sty (by the same authors) or
% algorithm2e.sty (by Christophe Fiorio) as the IEEE does not use dedicated
% algorithm float types and packages that provide these will not provide
% correct IEEE style captions. The latest version and documentation of
% algorithmic.sty can be obtained at:
% http://www.ctan.org/pkg/algorithms
% Also of interest may be the (relatively newer and more customizable)
% algorithmicx.sty package by Szasz Janos:
% http://www.ctan.org/pkg/algorithmicx




% *** ALIGNMENT PACKAGES ***
%
%\usepackage{array}
% Frank Mittelbach's and David Carlisle's array.sty patches and improves
% the standard LaTeX2e array and tabular environments to provide better
% appearance and additional user controls. As the default LaTeX2e table
% generation code is lacking to the point of almost being broken with
% respect to the quality of the end results, all users are strongly
% advised to use an enhanced (at the very least that provided by array.sty)
% set of table tools. array.sty is already installed on most systems. The
% latest version and documentation can be obtained at:
% http://www.ctan.org/pkg/array


%\usepackage{mdwmath}
%\usepackage{mdwtab}
% Also highly recommended is Mark Wooding's extremely powerful MDW tools,
% especially mdwmath.sty and mdwtab.sty which are used to format equations
% and tables, respectively. The MDWtools set is already installed on most
% LaTeX systems. The lastest version and documentation is available at:
% http://www.ctan.org/pkg/mdwtools


% IEEEtran contains the IEEEeqnarray family of commands that can be used to
% generate multiline equations as well as matrices, tables, etc., of high
% quality.


%\usepackage{eqparbox}
% Also of notable interest is Scott Pakin's eqparbox package for creating
% (automatically sized) equal width boxes - aka "natural width parboxes".
% Available at:
% http://www.ctan.org/pkg/eqparbox




% *** SUBFIGURE PACKAGES ***
%\ifCLASSOPTIONcompsoc
%  \usepackage[caption=false,font=footnotesize,labelfont=sf,textfont=sf]{subfig}
%\else
%  \usepackage[caption=false,font=footnotesize]{subfig}
%\fi
% subfig.sty, written by Steven Douglas Cochran, is the modern replacement
% for subfigure.sty, the latter of which is no longer maintained and is
% incompatible with some LaTeX packages including fixltx2e. However,
% subfig.sty requires and automatically loads Axel Sommerfeldt's caption.sty
% which will override IEEEtran.cls' handling of captions and this will result
% in non-IEEE style figure/table captions. To prevent this problem, be sure
% and invoke subfig.sty's "caption=false" package option (available since
% subfig.sty version 1.3, 2005/06/28) as this is will preserve IEEEtran.cls
% handling of captions.
% Note that the Computer Society format requires a sans serif font rather
% than the serif font used in traditional IEEE formatting and thus the need
% to invoke different subfig.sty package options depending on whether
% compsoc mode has been enabled.
%
% The latest version and documentation of subfig.sty can be obtained at:
% http://www.ctan.org/pkg/subfig




% *** FLOAT PACKAGES ***
%
%\usepackage{fixltx2e}
% fixltx2e, the successor to the earlier fix2col.sty, was written by
% Frank Mittelbach and David Carlisle. This package corrects a few problems
% in the LaTeX2e kernel, the most notable of which is that in current
% LaTeX2e releases, the ordering of single and double column floats is not
% guaranteed to be preserved. Thus, an unpatched LaTeX2e can allow a
% single column figure to be placed prior to an earlier double column
% figure.
% Be aware that LaTeX2e kernels dated 2015 and later have fixltx2e.sty's
% corrections already built into the system in which case a warning will
% be issued if an attempt is made to load fixltx2e.sty as it is no longer
% needed.
% The latest version and documentation can be found at:
% http://www.ctan.org/pkg/fixltx2e


%\usepackage{stfloats}
% stfloats.sty was written by Sigitas Tolusis. This package gives LaTeX2e
% the ability to do double column floats at the bottom of the page as well
% as the top. (e.g., "\begin{figure*}[!b]" is not normally possible in
% LaTeX2e). It also provides a command:
%\fnbelowfloat
% to enable the placement of footnotes below bottom floats (the standard
% LaTeX2e kernel puts them above bottom floats). This is an invasive package
% which rewrites many portions of the LaTeX2e float routines. It may not work
% with other packages that modify the LaTeX2e float routines. The latest
% version and documentation can be obtained at:
% http://www.ctan.org/pkg/stfloats
% Do not use the stfloats baselinefloat ability as the IEEE does not allow
% \baselineskip to stretch. Authors submitting work to the IEEE should note
% that the IEEE rarely uses double column equations and that authors should try
% to avoid such use. Do not be tempted to use the cuted.sty or midfloat.sty
% packages (also by Sigitas Tolusis) as the IEEE does not format its papers in
% such ways.
% Do not attempt to use stfloats with fixltx2e as they are incompatible.
% Instead, use Morten Hogholm'a dblfloatfix which combines the features
% of both fixltx2e and stfloats:
%
% \usepackage{dblfloatfix}
% The latest version can be found at:
% http://www.ctan.org/pkg/dblfloatfix


%\ifCLASSOPTIONcaptionsoff
%  \usepackage[nomarkers]{endfloat}
% \let\MYoriglatexcaption\caption
% \renewcommand{\caption}[2][\relax]{\MYoriglatexcaption[#2]{#2}}
%\fi
% endfloat.sty was written by James Darrell McCauley, Jeff Goldberg and
% Axel Sommerfeldt. This package may be useful when used in conjunction with
% IEEEtran.cls'  captionsoff option. Some IEEE journals/societies require that
% submissions have lists of figures/tables at the end of the paper and that
% figures/tables without any captions are placed on a page by themselves at
% the end of the document. If needed, the draftcls IEEEtran class option or
% \CLASSINPUTbaselinestretch interface can be used to increase the line
% spacing as well. Be sure and use the nomarkers option of endfloat to
% prevent endfloat from "marking" where the figures would have been placed
% in the text. The two hack lines of code above are a slight modification of
% that suggested by in the endfloat docs (section 8.4.1) to ensure that
% the full captions always appear in the list of figures/tables - even if
% the user used the short optional argument of \caption[]{}.
% IEEE papers do not typically make use of \caption[]'s optional argument,
% so this should not be an issue. A similar trick can be used to disable
% captions of packages such as subfig.sty that lack options to turn off
% the subcaptions:
% For subfig.sty:
% \let\MYorigsubfloat\subfloat
% \renewcommand{\subfloat}[2][\relax]{\MYorigsubfloat[]{#2}}
% However, the above trick will not work if both optional arguments of
% the \subfloat command are used. Furthermore, there needs to be a
% description of each subfigure *somewhere* and endfloat does not add
% subfigure captions to its list of figures. Thus, the best approach is to
% avoid the use of subfigure captions (many IEEE journals avoid them anyway)
% and instead reference/explain all the subfigures within the main caption.
% The latest version of endfloat.sty and its documentation can obtained at:
% http://www.ctan.org/pkg/endfloat
%
% The IEEEtran \ifCLASSOPTIONcaptionsoff conditional can also be used
% later in the document, say, to conditionally put the References on a
% page by themselves.





% *** PDF, URL AND HYPERLINK PACKAGES ***
%
%\usepackage{url}
% url.sty was written by Donald Arseneau. It provides better support for
% handling and breaking URLs. url.sty is already installed on most LaTeX
% systems. The latest version and documentation can be obtained at:
% http://www.ctan.org/pkg/url
% Basically, \url{my_url_here}.


% NOTE: PDF thumbnail features are not required in IEEE papers
%       and their use requires extra complexity and work.
%\ifCLASSINFOpdf
%  \usepackage[pdftex]{thumbpdf}
%\else
%  \usepackage[dvips]{thumbpdf}
%\fi
% thumbpdf.sty and its companion Perl utility were written by Heiko Oberdiek.
% It allows the user a way to produce PDF documents that contain fancy
% thumbnail images of each of the pages (which tools like acrobat reader can
% utilize). This is possible even when using dvi->ps->pdf workflow if the
% correct thumbpdf driver options are used. thumbpdf.sty incorporates the
% file containing the PDF thumbnail information (filename.tpm is used with
% dvips, filename.tpt is used with pdftex, where filename is the base name of
% your tex document) into the final ps or pdf output document. An external
% utility, the thumbpdf *Perl script* is needed to make these .tpm or .tpt
% thumbnail files from a .ps or .pdf version of the document (which obviously
% does not yet contain pdf thumbnails). Thus, one does a:
%
% thumbpdf filename.pdf
%
% to make a filename.tpt, and:
%
% thumbpdf --mode dvips filename.ps
%
% to make a filename.tpm which will then be loaded into the document by
% thumbpdf.sty the NEXT time the document is compiled (by pdflatex or
% latex->dvips->ps2pdf). Users must be careful to regenerate the .tpt and/or
% .tpm files if the main document changes and then to recompile the
% document to incorporate the revised thumbnails to ensure that thumbnails
% match the actual pages. It is easy to forget to do this!
%
% Unix systems come with a Perl interpreter. However, MS Windows users
% will usually have to install a Perl interpreter so that the thumbpdf
% script can be run. The Ghostscript PS/PDF interpreter is also required.
% See the thumbpdf docs for details. The latest version and documentation
% can be obtained at.
% http://www.ctan.org/pkg/thumbpdf


% NOTE: PDF hyperlink and bookmark features are not required in IEEE
%       papers and their use requires extra complexity and work.
% *** IF USING HYPERREF BE SURE AND CHANGE THE EXAMPLE PDF ***
% *** TITLE/SUBJECT/AUTHOR/KEYWORDS INFO BELOW!!           ***
\newcommand\MYhyperrefoptions{bookmarks=true,bookmarksnumbered=true,
pdfpagemode={UseOutlines},plainpages=false,pdfpagelabels=true,
colorlinks=true,linkcolor={black},citecolor={black},urlcolor={black},
pdftitle={Bare Demo of IEEEtran.cls for Computer Society Journals},%<!CHANGE!
pdfsubject={Typesetting},%<!CHANGE!
pdfauthor={Michael D. Shell},%<!CHANGE!
pdfkeywords={Computer Society, IEEEtran, journal, LaTeX, paper,
             template}}%<^!CHANGE!
%\ifCLASSINFOpdf
%\usepackage[\MYhyperrefoptions,pdftex]{hyperref}
%\else
%\usepackage[\MYhyperrefoptions,breaklinks=true,dvips]{hyperref}
%\usepackage{breakurl}
%\fi
% One significant drawback of using hyperref under DVI output is that the
% LaTeX compiler cannot break URLs across lines or pages as can be done
% under pdfLaTeX's PDF output via the hyperref pdftex driver. This is
% probably the single most important capability distinction between the
% DVI and PDF output. Perhaps surprisingly, all the other PDF features
% (PDF bookmarks, thumbnails, etc.) can be preserved in
% .tex->.dvi->.ps->.pdf workflow if the respective packages/scripts are
% loaded/invoked with the correct driver options (dvips, etc.).
% As most IEEE papers use URLs sparingly (mainly in the references), this
% may not be as big an issue as with other publications.
%
% That said, Vilar Camara Neto created his breakurl.sty package which
% permits hyperref to easily break URLs even in dvi mode.
% Note that breakurl, unlike most other packages, must be loaded
% AFTER hyperref. The latest version of breakurl and its documentation can
% be obtained at:
% http://www.ctan.org/pkg/breakurl
% breakurl.sty is not for use under pdflatex pdf mode.
%
% The advanced features offer by hyperref.sty are not required for IEEE
% submission, so users should weigh these features against the added
% complexity of use.
% The package options above demonstrate how to enable PDF bookmarks
% (a type of table of contents viewable in Acrobat Reader) as well as
% PDF document information (title, subject, author and keywords) that is
% viewable in Acrobat reader's Document_Properties menu. PDF document
% information is also used extensively to automate the cataloging of PDF
% documents. The above set of options ensures that hyperlinks will not be
% colored in the text and thus will not be visible in the printed page,
% but will be active on "mouse over". USING COLORS OR OTHER HIGHLIGHTING
% OF HYPERLINKS CAN RESULT IN DOCUMENT REJECTION BY THE IEEE, especially if
% these appear on the "printed" page. IF IN DOUBT, ASK THE RELEVANT
% SUBMISSION EDITOR. You may need to add the option hypertexnames=false if
% you used duplicate equation numbers, etc., but this should not be needed
% in normal IEEE work.
% The latest version of hyperref and its documentation can be obtained at:
% http://www.ctan.org/pkg/hyperref





% *** Do not adjust lengths that control margins, column widths, etc. ***
% *** Do not use packages that alter fonts (such as pslatex).         ***
% There should be no need to do such things with IEEEtran.cls V1.6 and later.
% (Unless specifically asked to do so by the journal or conference you plan
% to submit to, of course. )


% correct bad hyphenation here
\hyphenation{op-tical net-works semi-conduc-tor}


\begin{document}
%
% paper title
% Titles are generally capitalized except for words such as a, an, and, as,
% at, but, by, for, in, nor, of, on, or, the, to and up, which are usually
% not capitalized unless they are the first or last word of the title.
% Linebreaks \\ can be used within to get better formatting as desired.
% Do not put math or special symbols in the title.
\title{Crime Prediction in the City of New York}
%
%
% author names and IEEE memberships
% note positions of commas and nonbreaking spaces ( ~ ) LaTeX will not break
% a structure at a ~ so this keeps an author's name from being broken across
% two lines.
% use \thanks{} to gain access to the first footnote area
% a separate \thanks must be used for each paragraph as LaTeX2e's \thanks
% was not built to handle multiple paragraphs
%
%
%\IEEEcompsocitemizethanks is a special \thanks that produces the bulleted
% lists the Computer Society journals use for "first footnote" author
% affiliations. Use \IEEEcompsocthanksitem which works much like \item
% for each affiliation group. When not in compsoc mode,
% \IEEEcompsocitemizethanks becomes like \thanks and
% \IEEEcompsocthanksitem becomes a line break with idention. This
% facilitates dual compilation, although admittedly the differences in the
% desired content of \author between the different types of papers makes a
% one-size-fits-all approach a daunting prospect. For instance, compsoc
% journal papers have the author affiliations above the "Manuscript
% received ..."  text while in non-compsoc journals this is reversed. Sigh.

\author{Panpan~Cheng~\IEEEmembership{(pc2756),}
        Vibhuti~Mahajan~\IEEEmembership{(vm2486),}
        Franck~Ngamkan~\IEEEmembership{(fn2189),}\\
        Jared~Samet~\IEEEmembership{(jss2272)}% <-this % stops a space
}

% note the % following the last \IEEEmembership and also \thanks -
% these prevent an unwanted space from occurring between the last author name
% and the end of the author line. i.e., if you had this:
%
% \author{....lastname \thanks{...} \thanks{...} }
%                     ^------------^------------^----Do not want these spaces!
%
% a space would be appended to the last name and could cause every name on that
% line to be shifted left slightly. This is one of those "LaTeX things". For
% instance, "\textbf{A} \textbf{B}" will typeset as "A B" not "AB". To get
% "AB" then you have to do: "\textbf{A}\textbf{B}"
% \thanks is no different in this regard, so shield the last } of each \thanks
% that ends a line with a % and do not let a space in before the next \thanks.
% Spaces after \IEEEmembership other than the last one are OK (and needed) as
% you are supposed to have spaces between the names. For what it is worth,
% this is a minor point as most people would not even notice if the said evil
% space somehow managed to creep in.



% The paper headers
\markboth{}%
{}
% The only time the second header will appear is for the odd numbered pages
% after the title page when using the twoside option.
%
% *** Note that you probably will NOT want to include the author's ***
% *** name in the headers of peer review papers.                   ***
% You can use \ifCLASSOPTIONpeerreview for conditional compilation here if
% you desire.



% The publisher's ID mark at the bottom of the page is less important with
% Computer Society journal papers as those publications place the marks
% outside of the main text columns and, therefore, unlike regular IEEE
% journals, the available text space is not reduced by their presence.
% If you want to put a publisher's ID mark on the page you can do it like
% this:
%\IEEEpubid{0000--0000/00\$00.00~\copyright~2015 IEEE}
% or like this to get the Computer Society new two part style.
%\IEEEpubid{\makebox[\columnwidth]{\hfill 0000--0000/00/\$00.00~\copyright~2015 IEEE}%
%\hspace{\columnsep}\makebox[\columnwidth]{Published by the IEEE Computer Society\hfill}}
% Remember, if you use this you must call \IEEEpubidadjcol in the second
% column for its text to clear the IEEEpubid mark (Computer Society journal
% papers don't need this extra clearance.)



% use for special paper notices
%\IEEEspecialpapernotice{(Invited Paper)}



% for Computer Society papers, we must declare the abstract and index terms
% PRIOR to the title within the \IEEEtitleabstractindextext IEEEtran
% command as these need to go into the title area created by \maketitle.
% As a general rule, do not put math, special symbols or citations
% in the abstract or keywords.
\IEEEtitleabstractindextext{%
\begin{abstract}
Having statistically sound and data-driven crime prediction models are essential for police departments to efficiently reallocate their resources and subsequently ensure the safety of civilians and property. We present our crime prediction model for the city of New York, that predicts the future time, location and type of offense committed, learning from the previous crime patterns and also the environmental factors that effect such felonies. Ensemble of time series and ridge regression gave the best crime forecasts. The results for data exploration and analysis are finally presented in an interactive app built using the shiny R framework.
\end{abstract}

% Note that keywords are not normally used for peerreview papers.
\begin{IEEEkeywords}
Crime Prediction, Regression Style Models, Time-Series Models, Evaluation Metric, Data Visualization.
\end{IEEEkeywords}}


% make the title area
\maketitle


% To allow for easy dual compilation without having to reenter the
% abstract/keywords data, the \IEEEtitleabstractindextext text will
% not be used in maketitle, but will appear (i.e., to be "transported")
% here as \IEEEdisplaynontitleabstractindextext when compsoc mode
% is not selected <OR> if conference mode is selected - because compsoc
% conference papers position the abstract like regular (non-compsoc)
% papers do!
\IEEEdisplaynontitleabstractindextext
% \IEEEdisplaynontitleabstractindextext has no effect when using
% compsoc under a non-conference mode.


% For peer review papers, you can put extra information on the cover
% page as needed:
% \ifCLASSOPTIONpeerreview
% \begin{center} \bfseries EDICS Category: 3-BBND \end{center}
% \fi
%
% For peerreview papers, this IEEEtran command inserts a page break and
% creates the second title. It will be ignored for other modes.
\IEEEpeerreviewmaketitle


\ifCLASSOPTIONcompsoc
\IEEEraisesectionheading{\section{Introduction}\label{sec:introduction}}
\else
\section{Introduction}
\label{sec:introduction}
\fi
% Computer Society journal (but not conference!) papers do something unusual
% with the very first section heading (almost always called "Introduction").
% They place it ABOVE the main text! IEEEtran.cls does not automatically do
% this for you, but you can achieve this effect with the provided
% \IEEEraisesectionheading{} command. Note the need to keep any \label that
% is to refer to the section immediately after \section in the above as
% \IEEEraisesectionheading puts \section within a raised box.




% The very first letter is a 2 line initial drop letter followed
% by the rest of the first word in caps (small caps for compsoc).
%
% form to use if the first word consists of a single letter:
% \IEEEPARstart{A}{demo} file is ....
%
% form to use if you need the single drop letter followed by
% normal text (unknown if ever used by the IEEE):
% \IEEEPARstart{A}{}demo file is ....
%
% Some journals put the first two words in caps:
% \IEEEPARstart{T}{his demo} file is ....
%
% Here we have the typical use of a "T" for an initial drop letter
% and "HIS" in caps to complete the first word.
\IEEEPARstart{O}{ur} goal in this project is to predict and communicate, as
precisely as possible, the location, time and nature of the future occurrence of crimes in
New York City. Our efforts over the past few weeks have been aimed at, first,
formulating and testing models that we can use to make predictions of crime, and
second, developing an interactive tool to communicate both our predictions for future
crime occurrence and the historical crime occurrence rates.


% An example of a floating figure using the graphicx package.
% Note that \label must occur AFTER (or within) \caption.
% For figures, \caption should occur after the \includegraphics.
% Note that IEEEtran v1.7 and later has special internal code that
% is designed to preserve the operation of \label within \caption
% even when the captionsoff option is in effect. However, because
% of issues like this, it may be the safest practice to put all your
% \label just after \caption rather than within \caption{}.
%
% Reminder: the "draftcls" or "draftclsnofoot", not "draft", class
% option should be used if it is desired that the figures are to be
% displayed while in draft mode.
%
%\begin{figure}[!t]
%\centering
%\includegraphics[width=2.5in]{myfigure}
% where an .eps filename suffix will be assumed under latex,
% and a .pdf suffix will be assumed for pdflatex; or what has been declared
% via \DeclareGraphicsExtensions.
%\caption{Simulation results for the network.}
%\label{fig_sim}
%\end{figure}

% Note that the IEEE typically puts floats only at the top, even when this
% results in a large percentage of a column being occupied by floats.
% However, the Computer Society has been known to put floats at the bottom.


% An example of a double column floating figure using two subfigures.
% (The subfig.sty package must be loaded for this to work.)
% The subfigure \label commands are set within each subfloat command,
% and the \label for the overall figure must come after \caption.
% \hfil is used as a separator to get equal spacing.
% Watch out that the combined width of all the subfigures on a
% line do not exceed the text width or a line break will occur.
%
%\begin{figure*}[!t]
%\centering
%\subfloat[Case I]{\includegraphics[width=2.5in]{box}%
%\label{fig_first_case}}
%\hfil
%\subfloat[Case II]{\includegraphics[width=2.5in]{box}%
%\label{fig_second_case}}
%\caption{Simulation results for the network.}
%\label{fig_sim}
%\end{figure*}
%
% Note that often IEEE papers with subfigures do not employ subfigure
% captions (using the optional argument to \subfloat[]), but instead will
% reference/describe all of them (a), (b), etc., within the main caption.
% Be aware that for subfig.sty to generate the (a), (b), etc., subfigure
% labels, the optional argument to \subfloat must be present. If a
% subcaption is not desired, just leave its contents blank,
% e.g., \subfloat[].


% An example of a floating table. Note that, for IEEE style tables, the
% \caption command should come BEFORE the table and, given that table
% captions serve much like titles, are usually capitalized except for words
% such as a, an, and, as, at, but, by, for, in, nor, of, on, or, the, to
% and up, which are usually not capitalized unless they are the first or
% last word of the caption. Table text will default to \footnotesize as
% the IEEE normally uses this smaller font for tables.
% The \label must come after \caption as always.
%
%\begin{table}[!t]
%% increase table row spacing, adjust to taste
%\renewcommand{\arraystretch}{1.3}
% if using array.sty, it might be a good idea to tweak the value of
% \extrarowheight as needed to properly center the text within the cells
%\caption{An Example of a Table}
%\label{table_example}
%\centering
%% Some packages, such as MDW tools, offer better commands for making tables
%% than the plain LaTeX2e tabular which is used here.
%\begin{tabular}{|c||c|}
%\hline
%One & Two\\
%\hline
%Three & Four\\
%\hline
%\end{tabular}
%\end{table}


% Note that the IEEE does not put floats in the very first column
% - or typically anywhere on the first page for that matter. Also,
% in-text middle ("here") positioning is typically not used, but it
% is allowed and encouraged for Computer Society conferences (but
% not Computer Society journals). Most IEEE journals/conferences use
% top floats exclusively.
% Note that, LaTeX2e, unlike IEEE journals/conferences, places
% footnotes above bottom floats. This can be corrected via the
% \fnbelowfloat command of the stfloats package.

\section{Data Set}

The core data set in this project is the NYPD Historic Complaint Data, which is available from the NYC Open Data web site. This dataset contains all felonies, misdemeanors, and violations reported to the NYPD from 2006 through the end of 2016. Information for 2017 YTD through September 30th is available separately as an add-on to the core dataset.\\

In addition to the core dataset, there are several other publicly available sources of data that we
will use to enhance our ability to predict future crime occurrences. \\

These include:
\begin{itemize}
 \item School\_Safety\_Report.csv
\end{itemize}

Since 1998, the NYPD has been tasked with the collection and
maintenance of crime data for incidents that occur in New York City public schools. The NYPD has provided this data for the 2010-2011 school year to the New York City Department of Education (DOE), covering the period from July 1, 2010-June 30, 2011. This dataset is from NYC Open Data.\\

\begin{itemize}
 \item DOITT\_SUBWAY\_STATION\_01\_13SEPT2010.csv
\end{itemize}

This dataset, also from NYC Open Data, includes the location of subway entrances across the city.\\

\begin{itemize}
 \item Census data from the American Community Survey 2011-2015 5-year estimates
\end{itemize}

This data, which is available through American FactFinder, includes a huge array of demographic information, including total population counts, income levels, and educational attainment. The ACS 5-year estimates are available at the level of census tracts, which are small areas of approximately 4,000 individuals. There are approximately 40 census tracts per police precinct.\\

\begin{itemize}
 \item Shapefiles for police precincts and census tracts, available from the NYC Open Data website.
\end{itemize}
These files allow us to determine which census tracts constitute which police precincts,
along with which census tract a particular set of GPS coordinates is located in.\\

\begin{itemize}
 \item Historical\_Daily\_Attendance\_By\_School.csv
\end{itemize}
Also available on NYC Open Data, this dataset
covers daily NYC public school attendance. For each school, the dataset includes the number of students enrolled, present, absent and released on a daily basis\\

\subsection{Target Prediction Variable}
The raw dataset (the NYPD Historical Complaint Data) is a listing of individual crimes
that were reported to the police. This dataset is not aggregated in any way. Since the
precise time and location of any specific crime is essentially random, we needed to
choose a methodology for aggregating sufficiently similar incidents so that we would
have a finite set of target variables to predict. We chose to aggregate the crimes
according to the following buckets:
\begin{itemize}
 \item Location: The police precinct in which the crime was committed
 \item Time: The four-hour interval in which the crime was committed
 \item Nature: The class of felony which was committed
\end{itemize}

\subsection{Explanatory Variables}
The potential explanatory variables we included in our models were:
\begin{itemize}
 \item The time of the bucket (year, month, day, time-of-day)
 \item The day of week
 \item Which police precinct we were making a prediction for
 \item Weather conditions (precipitation intensity and temperature)
 \item Demographic information (median household income, educational attainment,
and total population)
\end{itemize}
We considered two broad classes of models: regression-type models, which did not
explicitly model the data as a time series, and time-series models, which explicitly
modeled the observations as a sequential process with a logical ordering.
\subsection{Train/Test Splits}
We wanted to explain the rate of occurrence of crime by place, time and type modelled
as a function of both historical patterns and demographic features and compare the
performance of regression techniques to time series forecasting. The nature of the
problem and the acquisition methods of the dataset could lead to missing values in
either of the 2 scenarios where we look at either historical or other demographic
explanatory variables. Hence, it was imperative to look at both the time series and
regression based modelling techniques and also divide the data for training and testing
in the adequate manner.\\

As a result, we chose to perform three separate train/test splits on the input data to see how each model performed with the given split. For the first train/test split, we supplied the model with the entire dataset from 2006 through 2015 and used 2016 as the set that needed to be predicted. For the second split, we randomly dropped 10\% of the
year/month/day/time-of-day rows. For the third split, we randomly dropped 5 quarters
from the dataset. Each of these splits resulted in about 90\% of the data being used for
training and 10\% for which the model was required to produce predictions for each
(location, time, felony type) combination which was held out. For the time-series based
models, we allowed the model to look at the actual data that occurred prior to the row
which was being predicted (but not after the row which was being predicted).\\

\begin{tabular}{ |p{2cm}|p{3cm}|p{2cm}|  }
 \hline
 \multicolumn{3}{|c|}{Split Files} \\
 \hline
 File Name& Train/Test Dimensions & Split Type\\
 \hline
 split\_fine.csv& 1,670,284/185,570  & Random 10\% of entire data is the test set\\
 \hline
 split\_coarse.csv& 1,644,720/211,134  & Random 5 quarters from the entire data is the
test set\\
\hline
 split\_2016.csv & 1,686,762/169,092 & Whole data before 2016 is the training set
and data for 2016 is the test set\\
 \hline
\end{tabular}

\subsection{Exploratory Data Analysis}


\section{Modelling Approaches}
\subsection{General Model Systems}
The models we considered fell into two broad classes:
regression-style models and time-series style models.\\

Regression Style Models
\begin{itemize}
  \item Incorporate independent/predictive variables
  \item Don't explicitly model as a series
\end{itemize}

Time-Series Models
\begin{itemize}
\item Only look at observed crime rates
\item Explicitly model as a series
\end{itemize}

In terms of how a model would work, we had essentially two choices for broad classes of models. The first class is regression style models: These have an explicit delineation between the independent variables that we could observe a priori, and the dependent variable that we were trying to predict. In other words there were a bunch of X variables and a separate set of Y variables. Although these models could use time as one of the X variables, they didn't explicit have a concept of "the previous day" or "the previous week". The second class is time-series models. These essentially tossed out the concept of predictive variables in favor of modeling the Y variables as a time series with some endogenous dynamics. They essentially say, I have this sequence here that has an explicit ordering, and it seems to act this way from one week to the next.\\

So what are the pros and cons of these two types of models? In general a regression style model is more interpretable, at least to the extent that your X variables are easy to interpret. You might be able to get answers to questions about how you expect numbers to change if one of the inputs change. Also, to the extent that your X variables can be predicted in the future more easily, they can make much longer-term predictions since you aren't dependent on seeing the recent actual numbers to make forecasts. In the time-series column, to the extent that there's a lot of variability in your numbers, a time series can be a lot faster to respond to changes, and if it's set up properly, it might be able to make more accurate short-range forecasts. \\

In terms of how this played out in our model, there were two specific ways that the pros and cons of the two model classes played out. One of the challenges we faced in this is that we set ourselves a fairly difficult task: Predict a specific offense type for a specific precinct for a specific four-hour block of time. There are 77 police precincts in New York, we were considering 14 categories of offense, and we had an 11-year dataset that we were looking at which is about 4,000 days or 24,000 four hour blocks of time. If you multiply these numbers together that's 26 million buckets we were trying to assign a number to. There were less than 2 million total felonies in the dataset so you can see that more than 90\% of the numbers are going to be zero. A regression model doesn't have a problem with this, although the resulting $R^2$ isn't going to be very good. If there are circumstances that make a crime more probable in one bucket than another, its coefficients are going to predict a higher number for the mean. But as far as a time series model is concerned, it's just going to see a random spike that maybe it does and maybe it doesn't have to respond to. On the other hand, the overall level of crime has changed in New York over the time period, and it was pretty difficult for a regression model to learn this, especially when it didn't have a smooth trend. The time series model that we ended up using was happy to adjust its predictions in response to the overall level.\\

\subsection{Detialed Model Approaches}
\begin{itemize}
  \item Ridge Regression (Baseline)
\end{itemize}

As a baseline model, we performed ridge regression where the only explanatory
variables were the one-hot-encoded precinct code (77 codes), the one-hot-encoded
time of week (day-of-week plus time-of-day = 42 codes), the one-hot-encoded calendar
month (12 codes), and two weather variables (precipitation intensity and temperature).
We performed this for each crime type independently, so the regression coefficients for
Arson were calculated independently of the coefficients for Homicide.\\

\begin{itemize}
  \item Ridge Regression (Full Model)
\end{itemize}

For a full-blown regression model, we performed ridge regression with the following
explanatory variables: the one-hot-encoded precinct code, the one-hot-encoded time of
week, the date (as a real number, so July 1, 2014 = 2014.5), the fractional value of the
date (as a real number, so July 1, 2014 = July 1, 2015 = 0.5), precipitation intensity and temperature. We included quadratic terms for the two date values to allow for a
nonlinear long-term trend (through the real value of the date) and over the course of the
year (through the fractional part of the date.) Since the precinct was already one-hot
encoded and the demographic variables are constant for a specific precinct, they would
not have added any explanatory power to the model.\\

\begin{itemize}
  \item Generalized Linear Model - Poisson Regression
\end{itemize}

As a precursor to a Bayesian hierarchical model, we performed a Poisson regression
using R's glm() (generalized linear model) function using the same predictive variables
as for the baseline ridge regression model. The results were essentially identical to
ridge regression while taking 100 times longer to compute.\\

\begin{itemize}
  \item Bayesian Hierarchical Model - Poisson process, Gamma priors
\end{itemize}

We initially intended to use Stan to estimate the distribution for the following Bayesian
hierarchical model:\\

$y  \sim  Poisson(\lambda) \\
\lambda \sim Gamma (\beta_{0} + \beta_{1} * predictor_{1} + ...)\\
$\\
However, after initial experimentation it became clear the the dataset was far too large
for this to be feasible; even a simple estimation on a small number of rows took orders
of magnitude longer than Poisson regression, which was in turn orders of magnitude
slower than ridge regression without producing substantially different results.\\

\begin{itemize}
  \item Random Forest Regression
\end{itemize}

Random forest combines the prediction of multiple decision trees. The dataset is divided
into subtrees by combination of variables. The predict result is aggregated from these
trees. The random forest is actually the combination of the different models by majority
voting. The forecast of each crime is modelled as the function of the same variables
mentioned above. It doesnâ€™t have higher accuracy and takes much longer time.\\

\begin{itemize}
  \item Gradient Boosting Regression
\end{itemize}

Another ensemble based regression method that we look into is the gradient boosting
regression. Here the forecast of each crime is modelled independently as the function of
the same explanatory variables as above, i.e. one-hot-encoded precinct code, four hour
bucket of crime, month of occurrence of crime alongwith rainfall and temperature. For
choosing the hyperparameter values, we used bayesian optimisation to get the values
of the maximum depth of regression trees, learning rate, maximum features , sample
split and minimum leaf split.\\

\textit{NOTE : Bayesian Optimisation for Hyperparameter Tuning :}

Complex machine learning algorithms require a careful consideration of
hyperparameters that can either be gathered from extensive research experience,
domain knowledge or computation methods like grid search and random search. But for
getting an adequate coverage of the hyperparameter using these methods require
objective function evaluations that increase exponentially with the dimension of the
hyperparameters. With observations, O($10^6$) each objective function evaluation and
subsequent optimisation is very expensive. Hence, bayesian optimisation is better
suited to find the optimal set of hyperparameters.\\

\begin{itemize}
  \item Time Series: Moving Average (Baseline)
\end{itemize}

As a baseline model, we considered a simple time-series model where our prediction for
a given (precinct, time, offense type) combination was equal to the mean for that
precinct and offense type over the prior four weeks at the equivalent time of the week.
In other words, our prediction for Forgery (type) in the 26th precinct (location) for
Thursday, July 30th, 2015 between noon and 4pm (time) was equal to the average of
four numbers: the number of forgeries reported in the 26th precinct on Thursday, July
2nd between noon and 4pm; Thursday, July 9th between noon and 4pm; Thursday, July
16th between noon and 4pm; and Thursday, July 23rd between noon and 4pm.\\

\begin{itemize}
  \item Time Series: Moving Average (Full Model)
\end{itemize}

For a more robust time series model, we considered the following model. For each
prediction period, we first calculate the total number of felonies over the prior 52 weeks,and for each (time of week, precinct, offense type) combination, the percentage
contribution to the total number is calculated. For example, if the total number of
felonies over the prior year was 100,000, and the total number of weapons offenses in
the 34th precinct occurring on Tuesdays between 8pm and midnight was 225, then the
percentage contribution is 0.225\%. We then calculate the total number of felonies over
the prior four weeks, and predict that the total number of offenses will be this number,
divided by four (the number of weeks), multiplied by the percentage contribution for this
category. The motivation for this model is that the aggregate number of crimes in the
city gives a rapidly responding guide to the overall level of crime, while the yearly
percentage gives a good indication to how much this particular fine-grained category
has been contributing to total crime over a longer horizon.

\subsection{Final Model}

Regression Model:
\begin{itemize}
  \item y $\sim$ OneHot(Precinct) + OneHot(TimeOfWeek) + Poly(date,2) + Poly(fracYear,2) + temperature + precipitation
  \item Separate regression for each offense type
\end{itemize}

So we ended up using ridge regression with one-hot encoded values for the precinct and time of week, polynomial terms for the date and for the fraction of the way through the year and linear terms for temperature and precipitation intensity. One implication that I'd like to point out is you'll notice there aren't any demographic variables in here. This is because we already have the one-hot encoded values for which precinct we're in. So these would have been perfectly collinear with the precinct code and wouldn't have added any explanatory power to the model. Since different offense types have pretty different seasonality patterns throughout the course of the week, we ran a separate regression for each offense type.


\section{Result}

\subsection{Evaluation Metrics}

For regression problems where the task is to predict a number (as opposed to a
category), a typical evaluation metric would be the R-squared value or the
[root-]mean-squared error. For this problem, given the extremely high frequency of
zeros as the target value for the dataset, these metrics were difficult to interpret. By way of example, suppose that the true underlying process for one crime was a Poisson
process with mean value 0.01 (so, roughly, for any bucket the chance of a crime
occurring in that bucket is 1\%), and for another type of crime the occurrence is still
Poisson but with a mean value of 0.05. A model which perfectly predicted the true
hazard rate for each crime would only have an $R^2$ of 1.47\% and would have a
mean-squared error of 0.0290, while a model which predicted 0.03 for both types of
crime would have an $R^2$ of zero and a mean-squared error of 0.0295. These numbers
are barely distinguishable and are therefore difficult to interpret.\\

A related point arises from the fact that the incidence for certain types of crime (such as grand larceny) is much higher than the incidence of other types of crime (such as
homicide). The crime types with higher occurrence rates were therefore somewhat less
subject to the previously mentioned phenomenon, and as a result, our $R^2$ values were
generally higher for the more frequently occurring crimes. However, it is important that a model do a good job of predicting homicide, even though it is thankfully rare in the data. Therefore, we aggregated our predictions over longer periods of time, and calculated the $R^2$ , the root-mean-squared error, and the root-mean-squared error as a percentage of the mean occurrence rate, at different levels of aggregation, for each offense type. For each offense type, we calculated these metrics on the row level (a single four-hour block for a single precinct for a single offense type); at the day level (all six four-hour windows of a day, for a single precinct for a single offense type); and at the day level, aggregated across all precincts (e.g., the total number of burglaries on March 7th, 2015, in the entire city). Given the variability in rates across offense types, we did not aggregate across these, since this would essentially have just given the same statistics as for the most frequently occurring crime type.

\subsection{Evaluation Results}
A spreadsheet is attached to this report that includes all of the evaluation results for the models we've considered. At this point, our best performing model takes the average
results from the full moving-average time series model and from the full ridge regression
model. Barring any last-minute developments, we expect this hybrid model to be the
final model that we use for projections. In the interest of space, we've only included the results for a single training/test split here - please refer to the spreadsheet for the full results. These results are for the train/test split which randomly dropped out five quarters from the data.\\

\begin{tabular}{ |p{3cm}|p{4cm}|  }
 \hline
 Offense Type& Four-hour buckets:\\
 \hline
 Homicide& R2 = -0.2, RMSE = 0.050, RMSE (\%) = 2098.583\\
 \hline
 Rape & R2 = 0.2, RMSE = 0.122, RMSE (\%) = 862.376\\
  \hline
Robbery & R2 = 5.0, RMSE = 0.346, RMSE (\%) = 302.895\\
 \hline
FelonyAssault& R2 = 6.2, RMSE = 0.375, RMSE (\%) = 320.059\\
 \hline
Burglary& R2 = 3.4, RMSE = 0.331, RMSE (\%) = 323.033\\
 \hline
GrandLarceny & R2 = 15.1, RMSE = 0.523, RMSE (\%) = 201.366\\
 \hline
GrandLarceny Auto & R2 = 3.7, RMSE = 0.234, RMSE (\%) = 439.239\\
 \hline
Fraud &R2 = 2.0, RMSE = 0.176, RMSE (\%) = 596.200\\
 \hline
Forgery& R2 = 2.8, RMSE = 0.176, RMSE (\%) = 626.775\\
 \hline
Arson& R2 = 0.0, RMSE = 0.090, RMSE (\%) = 1230.980\\
 \hline
Drugs &R2 = 4.9, RMSE = 0.187, RMSE (\%) = 576.393 \\
\hline
Weapons &R2 = 4.6, RMSE = 0.182, RMSE (\%) = 577.996\\
 \hline
CriminalMischief& R2 = 1.9, RMSE = 0.227, RMSE (\%) = 479.264\\
 \hline
Other& R2 = 4.4, RMSE = 0.292, RMSE (\%) = 362.486\\
 \hline
\end{tabular}


\begin{tabular}{ |p{3cm}|p{4cm}|  }
 \hline
 Offense Type&Days:\\
  \hline
Homicide& R2 = 0.7, RMSE = 0.125, RMSE (\%) = 872.182\\
 \hline
Rape& R2 = 1.8, RMSE = 0.305, RMSE (\%) = 357.666\\
 \hline
Robbery &R2 = 17.7, RMSE = 0.860, RMSE (\%) = 125.609 \\
 \hline
FelonyAssault& R2 = 23.2, RMSE = 0.933, RMSE (\%) = 132.811\\
 \hline
Burglary &R2 = 13.0, RMSE = 0.833, RMSE (\%) = 135.399\\
 \hline
GrandLarceny &R2 = 36.7, RMSE = 1.312, RMSE (\%) = 84.213\\
 \hline
GrandLarcenyAuto &R2 = 12.1, RMSE = 0.584, RMSE (\%) = 183.106\\
 \hline
Fraud& R2 = 4.0, RMSE = 0.435, RMSE (\%) = 246.210\\
 \hline
Forgery &R2 = 8.7, RMSE = 0.442, RMSE (\%) = 262.277\\
 \hline
Arson &R2 = 1.9, RMSE = 0.224, RMSE (\%) = 509.255\\
 \hline
Drugs& R2 = 15.8, RMSE = 0.462, RMSE (\%) = 238.059\\
 \hline
Weapons& R2 = 14.2, RMSE = 0.452, RMSE (\%) = 238.935\\
 \hline
CriminalMischief& R2 = 8.4, RMSE = 0.565, RMSE (\%) = 198.587\\
 \hline
Other &R2 = 17.2, RMSE = 0.719, RMSE (\%) = 148.970\\
 \hline
\end{tabular}

\begin{tabular}{ |p{3cm}|p{4cm}|  }
 \hline
 Offense Type&Days (All Precincts):\\
  \hline
Homicide& R2 = 4.5, RMSE = 1.046, RMSE (\%) = 94.886\\
 \hline
Rape& R2 = 2.9, RMSE = 5.289, RMSE (\%) = 80.627\\
 \hline
Robbery &R2 = 48.5, RMSE = 9.214, RMSE (\%) = 17.483 \\
 \hline
FelonyAssault& R2 = 60.4, RMSE = 10.609, RMSE (\%) = 19.618\\
 \hline
Burglary &R2 = 63.9, RMSE = 8.587, RMSE (\%) = 18.135\\
 \hline
GrandLarceny &R2 = 50.2, RMSE = 16.900, RMSE (\%) = 14.091\\
 \hline
GrandLarcenyAuto &R2 = 53.0, RMSE = 5.366, RMSE (\%) = 21.837\\
 \hline
Fraud& R2 = 17.0, RMSE = 6.878, RMSE (\%) = 50.549\\
 \hline
Forgery &R2 = 40.2, RMSE = 4.243, RMSE (\%) = 32.691\\
 \hline
Arson &R2 = 21.8, RMSE = 2.017, RMSE (\%) = 59.468\\
 \hline
Drugs& R2 = 56.7, RMSE = 5.293, RMSE (\%) = 35.396\\
 \hline
Weapons& R2 = 40.8, RMSE = 4.574, RMSE (\%) = 31.430\\
 \hline
CriminalMischief& R2 = 43.8, RMSE = 5.329, RMSE (\%) = 24.311\\
 \hline
Other &R2 = 45.2, RMSE = 6.422, RMSE (\%) = 17.269\\
 \hline

\end{tabular}


% if have a single appendix:
%\appendix[Proof of the Zonklar Equations]
% or
%\appendix  % for no appendix heading
% do not use \section anymore after \appendix, only \section*
% is possibly needed

% use appendices with more than one appendix
% then use \section to start each appendix
% you must declare a \section before using any
% \subsection or using \label (\appendices by itself
% starts a section numbered zero.)
%

\section{Conclusion}
Mostly, the number of crimes occurring in each forecast bucket is 0 and even though our model also predicts that the number of crimes occurring in the particular bucket is less than 1, the squared error term still gets added up and hence we have a large value of RMSE and subsequently a small $R^2$.
Since we can't comment on which value of RMSE and $R^2$ guarantees a good prediction model, we look at graphical representation of our model predictions and compare them with the actual values to have a better evaluation metric for our model's performance.

Fig 1 shows the crime predictions for forecast buckets grouped into 100 groups by prediction percentile and the mean of each of these groups plotted against the actual mean value of this group. The red line is the line of perfect foresight. a) is plotted on a regular scale and b) is plotted on a log scale. For cases where we predicted very small chance of a crime to be committed, the number of crimes committed were more than our prediction results as is evident from the log scale chart. Also, for the cases where we predicted a high chance of crime occurring the actual results were a little less. But overall, we can confidently comment the exact chance of crime being committed in a particular 4-hour bucket.

Fig 2. and  Fig 3. compares the results of our predicted values compared to the actual values on a much larger time resolution of 1 month and present interesting inference results. For crime types that occur frequently like assault, our model predictions are almost perfect if averaged over the period of 1 month, but we cannot comment the same about the crimes like murder which occur rarely. This essentially means that the combination of historical data and exogenous variable that we have used in the model cannot effectively capture the trends to predict when and where a murder is going to take place
\begin{figure}
\centering
  \includegraphics[width=200pt]{both.png}
  \caption{Actual v/s Predicted crimes for all 4-hour forecast buckets a) Actual Scale b) Log Scale}
\end{figure}
\begin{figure}
\centering
  \includegraphics[width=200pt]{felony.png}
  \caption{Monthly predicted felonies v/s actual felonies}
\end{figure}
\begin{figure}
\centering
  \includegraphics[width=200pt]{murder.png}
  \caption{Monthly predicted murders v/s actual murders}
\end{figure}

\section{Data Visualization}
We also present a data exploration and visualization tool(Fig.4) built using R software's shiny application package that provides an interactive interface for the user to look at the historical crime data and also the forecasts of crime on a particular time and location as predicted by our ensemble regression and time series model.

Fig.5 shows an interface where the user can look at the crime pattern over different districts of New York and can also customize their search by time range and crime type. Fig. 6 is the app interface that shows the results of our predicted models customized by date range and crime type. Fig.7 and Fig.8 are interfaces where the user can see how our predicted results compare to the actual crimes that were committed.

\begin{figure}
\centering
  \includegraphics[width=200pt]{Picture1.png}
  \caption{Crime Prediction App}
\end{figure}
\begin{figure}
\centering
  \includegraphics[width=200pt]{Picture2.png}
  \caption{Historical Crime Pattern}
\end{figure}
\begin{figure}
\centering
  \includegraphics[width=200pt]{Picture4.png}
  \caption{Crime Forecast}
\end{figure}
\begin{figure}
\centering
  \includegraphics[width=200pt]{Picture5.png}
  \caption{Prediction model Evaluation}
\end{figure}
\begin{figure}
\centering
  \includegraphics[width=200pt]{Picture6.png}
  \caption{Predicted v/s actual Fraud}
\end{figure}
Limitations and Future work goes here.

\section{Limitations and Future Work}
Limitations and Future work goes here.

\section{Related work \& Contributions}
related work \& contributions

\section{References}

% if have a single appendix:
%\appendix[Proof of the Zonklar Equations]
% or
%\appendix  % for no appendix heading
% do not use \section anymore after \appendix, only \section*
% is possibly needed

% use appendices with more than one appendix
% then use \section to start each appendix
% you must declare a \section before using any
% \subsection or using \label (\appendices by itself
% starts a section numbered zero.)
%


\appendices
% use section* for acknowledgment
\ifCLASSOPTIONcompsoc
  % The Computer Society usually uses the plural form
  \section*{Acknowledgments}
\else
  % regular IEEE prefers the singular form
  \section*{Acknowledgment}
\fi


The authors would like to thank...


% Can use something like this to put references on a page
% by themselves when using endfloat and the captionsoff option.
\ifCLASSOPTIONcaptionsoff
  \newpage
\fi



% trigger a \newpage just before the given reference
% number - used to balance the columns on the last page
% adjust value as needed - may need to be readjusted if
% the document is modified later
%\IEEEtriggeratref{8}
% The "triggered" command can be changed if desired:
%\IEEEtriggercmd{\enlargethispage{-5in}}

% references section

% can use a bibliography generated by BibTeX as a .bbl file
% BibTeX documentation can be easily obtained at:
% http://mirror.ctan.org/biblio/bibtex/contrib/doc/
% The IEEEtran BibTeX style support page is at:
% http://www.michaelshell.org/tex/ieeetran/bibtex/
%\bibliographystyle{IEEEtran}
% argument is your BibTeX string definitions and bibliography database(s)
%\bibliography{IEEEabrv,../bib/paper}
%
% <OR> manually copy in the resultant .bbl file
% set second argument of \begin to the number of references
% (used to reserve space for the reference number labels box)
\begin{thebibliography}{1}

\bibitem{Hotspots:almanie}
Almanie, Tahani, Rsha Mirza, and Elizabeth Lor. "Crime Prediction Based On Crime Types And Using Spatial And Temporal Criminal Hotspots." arXiv preprint arXiv:1508.02050 (2015).\\

\bibitem{Mobile:bogomolov}
Bogomolov, Andrey, Bruno Lepri, Jacopo Staiano, Nuria Oliver, Fabio Pianesi, and Alex
Pentland. "Once upon a crime: towards crime prediction from demographics and mobile data."In Proceedings of the 16th international conference on multimodal interaction, pp. 427-434.ACM, 2014.\\

\bibitem{Hotspots:Chainey1}
Chainey, Spencer, Lisa Tompson, and Sebastian Uhlig. "The utility of hotspot mapping for
predicting spatial patterns of crime." Security Journal 21, no. 1-2 (2008): 4-28.\\

\bibitem{Datamining:Chen1}
Chen, Hsinchun, Wingyan Chung, Jennifer Jie Xu, Gang Wang, Yi Qin, and Michael Chau.
"Crime data mining: a general framework and some examples." computer 37, no. 4 (2004):
50-56.\\

\bibitem{Arima:Chen1}
Chen, Peng, Hongyong Yuan, and Xueming Shu. "Forecasting crime using the arima model." In
Fuzzy Systems and Knowledge Discovery, 2008. FSKD'08. Fifth International Conference on,
vol. 5, pp. 627-630. IEEE, 2008.\\

\bibitem{Twitter:Chen1}
Chen, Xinyu, Youngwoon Cho, and Suk Young Jang. "Crime prediction using Twitter sentiment
and weather." In Systems and Information Engineering Design Symposium (SIEDS), 2015, pp.
63-68. IEEE, 2015.\\

\bibitem{CNN:Duan}
Duan, Lian, Tao Hu, En Cheng, Jianfeng Zhu, and Chao Gao. "Deep Convolutional Neural
Networks for Spatiotemporal Crime Prediction."\\

\bibitem{Hotspots:Eck1}
Eck, John, Spencer Chainey, James Cameron, and R. Wilson. "Mapping crime: Understanding
hotspots." (2005): 1-71.\\

\bibitem{Twitter:Gerber}
Gerber, Matthew S. "Predicting crime using Twitter and kernel density estimation." Decision Support Systems 61 (2014): 115-125.\\

\bibitem{Social:Glaeser}
Glaeser, Edward L., Bruce Sacerdote, and Jose A. Scheinkman. "Crime and social
interactions." The Quarterly Journal of Economics 111, no. 2 (1996): 507-548.\\

\bibitem{Multimodal:Kang}
Kang, Hyeon-Woo, and Hang-Bong Kang. "Prediction of crime occurrence from multi-modal
data using deep learning." PloS one 12, no. 4 (2017): e0176244.\\

\bibitem{Hotspots:Mohler1}
Mohler, George. "Marked point process hotspot maps for homicide and gun crime prediction in Chicago." International Journal of Forecasting 30, no. 3 (2014): 491-497.\\

\bibitem{Hotspots:Mohler2}
Mohler, George O., Martin B. Short, P. Jeffrey Brantingham, Frederic Paik Schoenberg, and
George E. Tita. "Self-exciting point process modeling of crime." Journal of the American
Statistical Association 106, no. 493 (2011): 100-108.\\

\bibitem{DeepLearning:Wang}
Wang, Bao, Duo Zhang, Duanhao Zhang, P. Jeffery Brantingham, and Andrea L. Bertozzi.
"Deep Learning for Real Time Crime Forecasting." arXiv preprint arXiv:1707.03340 (2017).\\

\bibitem{STAM:Wang}
Wang, Xiaofeng, and Donald E. Brown. "The spatio-temporal generalized additive model for
criminal incidents." In Intelligence and Security Informatics (ISI), 2011 IEEE International Conference on, pp. 42-47. IEEE, 2011.\\

\bibitem{Twitter:Wang}
Wang, Xiaofeng, Matthew S. Gerber, and Donald E. Brown. "Automatic Crime Prediction Using
Events Extracted from Twitter Posts." SBP 12 (2012): 231-238.\\

\bibitem{Datamining:Yu}
Yu, Chung-Hsien, Max W. Ward, Melissa Morabito, and Wei Ding. "Crime forecasting using
data mining techniques." In Data Mining Workshops (ICDMW), 2011 IEEE 11th International
Conference on, pp. 779-786. IEEE, 2011.\\

\end{thebibliography}

% You can push biographies down or up by placing
% a \vfill before or after them. The appropriate
% use of \vfill depends on what kind of text is
% on the last page and whether or not the columns
% are being equalized.

%\vfill

% Can be used to pull up biographies so that the bottom of the last one
% is flush with the other column.
%\enlargethispage{-5in}



% that's all folks
\end{document}
